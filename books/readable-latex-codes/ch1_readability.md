---
title: "事前知識の整理"
---

## 可読性・保守性とは

$\LaTeX$ の文脈で可読性・保守性が語られることは, あまり多くないように見受けられる.
念のため, その文脈に寄せて簡易に概念を定義し, 大雑把な認識の共有を図る.
普段からプログラミング等でコードを書いていて, これらの概念に慣れ親しんでいる人は読み飛ばしてよい.

- 美的一貫性
- 可読性・自己説明性
- 保守性

### 美的一貫性

ソースコードの書き方に, 美的合理性・一貫性があり, 読み手に優しいレイアウト・記述形式であること.

- (美的一貫性のある)良い例
  - 1行1文が守られている
  - `\alpha \in \MySet` のように, 意味のある最小単位ごとに space で区切られている
  - `equation` 環境などの階層構造が適切にインデントで表現するルールがある
- (美的一貫性のない)悪い例
  - インデントの方法・量が場所によって異なる

美的一貫性のある書き方の解は無数にあるので, そのうちの1つを書き手の好みに応じて選び, それを実現させる Formatter を用意すればよい. それ以降は Formatter に仕事を丸投する. 広義には, この概念は可読性に含まれるが, 現代においては人間が積極的にやるべき仕事ではないことを考慮して可読性概念から分離した.

### 可読性・自己説明性

**他者(将来の自分を含む)が**ソースコードから意味・表示内容(のどちらか重要な方)を正しく読み取れること. その読解が, 少ない時間・労力・ストレスで実現できること.

- 良い例
  - 意味を明確にするネーミング: `t{A}` ではなく `\transpose{A}`
  - ソースコードの音読がPDFの音読と近い (WYSIWYG的である)
- 悪い例
  - 表示も意味も想像できないコマンド名 `\res{A}`
  - 非直観的な引数を持つコマンド `\~{A}{}{i_1}`
  - 出力 pdf 以外のヒントが少ないコード

ツールに任せる美的一貫性と異なり, 人間の積極的作為によって担保すべき条件. 次の保守性も同様.

### 保守性

外界の変化の強く, また変更が容易であること. 変更時の影響範囲が最小限の範囲に限定されていること. その範囲を変更前に正確に予見できること.

- 良い例
  - それぞれのコードの役割分担に, 読み手に伝わる明確なポリシーがある
- 悪い例
  - 変更の可能性があるパッケージの関数が `document` 環境内にベタ書きされている
  - `document` 環境内で1つのコマンドが複数の意味で使われている
  - 必須引数が多くて変更が困難なコマンド `\command{x}{\alpha}{}{1}`
  - 多くのコマンドの合成から成る複雑な依存関係を持つコマンド
