---
title: "必要悪: 省略用コマンド"
---
<!-- ## 省略用コマンド -->

良いコマンドの作り方を論じた直後に話の腰を折るようだが, 悪いコマンドの作り方を紹介する.

"良いコマンド"だけで全てが足りれば幸せだが, 現実には複雑なコードの見た目をどうしても圧縮する必要があるなどの理由で, しょうもないコマンドをスポットで用いざるを得ない場合もある. そういう状況では, その目的専用と割り切った省略用コマンドとして定義して使おう. どんなコマンドかと言うと, 次のような, 省略したい表現への純粋なショートカットとして用いるコマンドを指す.

```tex
\newcommand{\AbbreviationCommand}[n]{省略したい複雑な表現}
```

省略用コマンドはコメントで指す対象を宣言して使おう.

```tex
... &= \some \terms \frac{complex}{terms} \\
% 前の行の最後の分数のマクローリン展開の3次の項までを \xxMacExp{a}{x}{f} とおく
    &= \some \terms + \xxMacExp{a}{x}{f}
```

つまり, 板書とかでやる「この部分をAとおく」をコードでやる.

省略用のコマンドはそうでない通常コマンドと区別できるようにprefixを決めておくとよい. 上の例ではxxとした.

また, 省略用のコマンドはその場で使い捨てて再利用しないこと, つまり, 影響範囲をソースコードの一部分に限定することが鉄則. 省略用コマンド自体は可読性等に難のある"酷い"コマンドなので, 散在させて得なことなど何もない. 必要悪として瞬間的に利用せざるを得ない場面があるだけだ.

省略用コマンドには, 上で議論したようなコマンドに対する工夫は必要ないが, コマンドとして束ねる対象は対応概念があるコマンド限定した方がその省略用コマンド自体の保守性は良くなる.

省略用コマンドはあくまで最後の手段であり, これに頼る前に検討すべき相対的にマシな方法がいくつかある. 次の章では, そのような例を紹介する.
